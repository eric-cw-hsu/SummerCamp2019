@model workshop.Models.BookSearch

@{
    ViewBag.Title = "Index";
}

<h2>圖書維護系統</h2>


@using (Html.BeginForm("Index", "Employee", FormMethod.Post, new { id = "Form1" }))
{
<div class="form-horizontal">

    <div class="form-group">
        @Html.LabelFor(model => model.BookName, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.TextBoxFor(model => model.BookName, new { @class = "form-control" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.BookCategory, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.TextBoxFor(model => model.BookCategory, new { @class = "form-control" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.LendName, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.TextBoxFor(model => model.LendName, new { @class = "form-control" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.BookStatus, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.TextBoxFor(model => model.BookStatus, new { @class = "form-control" })
        </div>
    </div>


    <div class="form-group">
        <div class="col-md-2">
        </div>
        <div class="col-md-10">
            <input type="submit" value="查詢" />
            @Html.ActionLink("add", "InsertEmployee")
            @Html.ActionLink("清除", "Index")
        </div>
    </div>

    @if (true || ViewBag.SearchResult != null)
    {
        <table class="table table-bordered table-striped">
            <thead>
                <tr id>
                    <th>編號</th>
                    <th>員工名稱</th>
                    <th>職稱</th>
                    <th>任職日期</th>
                    <th>性別</th>
                    <th>年齡</th>
                    <td></td>
                    <td></td>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in (List<workshop.Models.BookSearch>)ViewBag.SearchResult)
                {
                    <tr id='@item.BookName'>
                        <td>@item.EmployeeId</td>
                        <td>@item.EmployeeFirstName  @item.EmployeeLastName</td>
                        <td>@item.JobTitleId - @item.JobTitle</td>
                        <td>@item.HireDate.Replace('-', '/')</td>
                        <td>@item.Gender</td>
                        <td>@item.Age</td>
                        <td>@Html.ActionLink("修改", "UpdateEmployee", new { id = item.EmployeeId, @value = @item.EmployeeId })</td>
                        <td>
                            <a class="btnDelete" href="#" onclick="test(this,'@item.EmployeeId');">刪除</a>
                            <input class="hidEmployeeId" type="hidden" value='@item.EmployeeId' />
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }

</div>

}
